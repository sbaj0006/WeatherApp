{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\smart\\\\React\\\\WeatherApp\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\smart\\\\React\\\\WeatherApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\smart\\\\React\\\\WeatherApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\smart\\\\React\\\\WeatherApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\smart\\\\React\\\\WeatherApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\smart\\\\React\\\\WeatherApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\smart\\\\React\\\\WeatherApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Titles from\"./components/Titles\";// import Form from \"./components/Form\";\nimport Weather from\"./components/Weather\";import axios from\"axios\";var API_KEY=\"67297da4c387652c4857a1e54dae3f3f\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={temperature:undefined,city:undefined,country:undefined,humidity:undefined,description:undefined,error:undefined,users:[],id:0,date:undefined};_this.getWeather=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,id){var city,country,api_call,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();city=e.target.elements.city.value;country=e.target.elements.country.value;_context.next=5;return fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\",\").concat(country,\"&appid=\").concat(API_KEY,\"&units=metric\"));case 5:api_call=_context.sent;_context.next=8;return api_call.json();case 8:data=_context.sent;if(city&&country){console.log(data);_this.setState({temperature:data.main.temp,city:data.name,country:data.sys.country,humidity:data.main.humidity,description:data.weather[0].description,error:\"\"});axios.post(\"http://localhost/api\",{date:new Date(Date.now()).toISOString(),//date: new Date(parseInt(id.toString().substring(0, 8), 16) * 1000),\ncity:_this.state.city,country:_this.state.country});}else{_this.setState({temperature:undefined,city:undefined,country:undefined,humidity:undefined,description:undefined,error:\"Please enter value\"});}case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.cityChange=function(event){_this.setState({city:event.target.value});};_this.countryChange=function(event){_this.setState({country:event.target.value});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost/api\").then(function(res){_this2.setState({users:res.data,id:0,city:\"\",country:\"\"});// console.log(data);\n});}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"wrapper\"},React.createElement(\"div\",{className:\"main\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-xs-5 title-container\"},React.createElement(Titles,null)),React.createElement(\"div\",{className:\"col-xs-7 form-container\"},React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this3.getWeather(e,_this3.state.id);}},React.createElement(\"input\",{onChange:function onChange(e){return _this3.cityChange(e);},type:\"text\",name:\"city\",placeholder:\"City...\"}),React.createElement(\"input\",{onChange:function onChange(e){return _this3.countryChange(e);},type:\"text\",name:\"country\",placeholder:\"Country...\"}),React.createElement(\"button\",null,\"Get Weather\")),React.createElement(Weather,{temperature:this.state.temperature,humidity:this.state.humidity,city:this.state.city,country:this.state.country,description:this.state.description,error:this.state.error})))))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/smart/React/WeatherApp/src/App.js"],"names":["React","Component","Titles","Weather","axios","API_KEY","App","state","temperature","undefined","city","country","humidity","description","error","users","id","date","getWeather","e","preventDefault","target","elements","value","fetch","api_call","json","data","console","log","setState","main","temp","name","sys","weather","post","Date","now","toISOString","cityChange","event","countryChange","get","then","res"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Titles from \"./components/Titles\";\r\n// import Form from \"./components/Form\";\r\nimport Weather from \"./components/Weather\";\r\nimport axios from \"axios\";\r\n\r\nconst API_KEY = \"67297da4c387652c4857a1e54dae3f3f\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    temperature: undefined,\r\n    city: undefined,\r\n    country: undefined,\r\n    humidity: undefined,\r\n    description: undefined,\r\n    error: undefined,\r\n    users: [],\r\n    id: 0,\r\n    date: undefined,\r\n  };\r\n\r\n  getWeather = async (e, id) => {\r\n    e.preventDefault();\r\n    const city = e.target.elements.city.value;\r\n    const country = e.target.elements.country.value;\r\n\r\n    const api_call = await fetch(\r\n      `https://api.openweathermap.org/data/2.5/weather?q=${city},${country}&appid=${API_KEY}&units=metric`\r\n    );\r\n    const data = await api_call.json();\r\n    if (city && country) {\r\n      console.log(data);\r\n      this.setState({\r\n        temperature: data.main.temp,\r\n        city: data.name,\r\n        country: data.sys.country,\r\n        humidity: data.main.humidity,\r\n        description: data.weather[0].description,\r\n        error: \"\",\r\n      });\r\n      axios.post(\"http://localhost/api\", {\r\n        date: new Date(Date.now()).toISOString(),\r\n        //date: new Date(parseInt(id.toString().substring(0, 8), 16) * 1000),\r\n        city: this.state.city,\r\n        country: this.state.country,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        temperature: undefined,\r\n        city: undefined,\r\n        country: undefined,\r\n        humidity: undefined,\r\n        description: undefined,\r\n        error: \"Please enter value\",\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios.get(\"http://localhost/api\").then((res) => {\r\n      this.setState({\r\n        users: res.data,\r\n        id: 0,\r\n        city: \"\",\r\n        country: \"\",\r\n      });\r\n      // console.log(data);\r\n    });\r\n  }\r\n\r\n  cityChange = (event) => {\r\n    this.setState({\r\n      city: event.target.value,\r\n    });\r\n  };\r\n\r\n  countryChange = (event) => {\r\n    this.setState({\r\n      country: event.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"wrapper\">\r\n          <div className=\"main\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-xs-5 title-container\">\r\n                  <Titles />\r\n                </div>\r\n                <div className=\"col-xs-7 form-container\">\r\n                  {/* <Form\r\n                    onChange={this.cityChange}\r\n                    getWeather={this.getWeather}\r\n                  /> */}\r\n                  <form onSubmit={(e) => this.getWeather(e, this.state.id)}>\r\n                    <input\r\n                      onChange={(e) => this.cityChange(e)}\r\n                      type=\"text\"\r\n                      name=\"city\"\r\n                      placeholder=\"City...\"\r\n                    ></input>\r\n                    <input\r\n                      onChange={(e) => this.countryChange(e)}\r\n                      type=\"text\"\r\n                      name=\"country\"\r\n                      placeholder=\"Country...\"\r\n                    ></input>\r\n                    <button>Get Weather</button>\r\n                  </form>\r\n                  <Weather\r\n                    temperature={this.state.temperature}\r\n                    humidity={this.state.humidity}\r\n                    city={this.state.city}\r\n                    country={this.state.country}\r\n                    description={this.state.description}\r\n                    error={this.state.error}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}